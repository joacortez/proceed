{"_id":"node-red-contrib-mqtt-gem","_rev":"6-f33b5c4437bf7ddc88ec1cd13011a3fb","name":"node-red-contrib-mqtt-gem","dist-tags":{"latest":"1.0.0","beta":"1.0.0-beta.7"},"versions":{"1.0.0-beta.1":{"name":"node-red-contrib-mqtt-gem","version":"1.0.0-beta.1","keywords":["node-red","mqtt","environment","variables","dynamic","configuration","gem","broker","tls","protocol"],"author":{"name":"Luca Tralli","email":"luca.tralli@gemsrl.it"},"license":"MIT","_id":"node-red-contrib-mqtt-gem@1.0.0-beta.1","maintainers":[{"name":"lucagem","email":"luca.tralli@gemsrl.it"}],"homepage":"https://github.com/lucagem/node-red-contrib-mqtt-gem#readme","bugs":{"url":"https://github.com/lucagem/node-red-contrib-mqtt-gem/issues"},"dist":{"shasum":"356203789b9dfaa15cba5f47263d6f0119213af8","tarball":"https://registry.npmjs.org/node-red-contrib-mqtt-gem/-/node-red-contrib-mqtt-gem-1.0.0-beta.1.tgz","fileCount":8,"integrity":"sha512-9536pNqqXajfIyzFJGhhyXx8GU4LUlkrx71JnvfdQmqT37vp8mKuFG91jUitSfU35k9uJUF8pU8VT5L1MlAl2A==","signatures":[{"sig":"MEUCIQCYo1W90cmPB6aV5GvsC+FyGTX+nlLpOk3OqxRDHWoeoQIgUxryvEjZC9hwLLWx5zGjdHOuoRLkBMTfd5UYdUpFXgo=","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":151354},"main":"mqtt-gem.js","engines":{"node":">=14.0.0"},"gitHead":"9bfca3ef8356172e59cc99ba7c2d5255d85abc1d","scripts":{"dev":"node-red --userDir ./.node-red-dev --verbose","test":"echo \"Error: no test specified yet!\" && exit 1","dev-debug":"node --inspect=9229 ./node_modules/node-red/red.js --userDir ./.node-red-dev --verbose","dev-setup":"node setup-dev.js","prepublishOnly":"echo 'Preparing for publish...' && npm run test || echo 'Tests not available yet'"},"_npmUser":{"name":"lucagem","email":"luca.tralli@gemsrl.it"},"node-red":{"nodes":{"mqtt-gem":"mqtt-gem.js"}},"repository":{"url":"git+https://github.com/lucagem/node-red-contrib-mqtt-gem.git","type":"git"},"_npmVersion":"10.2.4","description":"MQTT nodes with environment variables support for dynamic enable and parameters","directories":{},"_nodeVersion":"20.11.0","dependencies":{"mqtt":"^4.0.0"},"_hasShrinkwrap":false,"devDependencies":{"node-red":"^4.1.0"},"_npmOperationalInternal":{"tmp":"tmp/node-red-contrib-mqtt-gem_1.0.0-beta.1_1758893376236_0.318910484357924","host":"s3://npm-registry-packages-npm-production"}},"1.0.0-beta.2":{"name":"node-red-contrib-mqtt-gem","version":"1.0.0-beta.2","keywords":["node-red","mqtt","environment","variables","dynamic","configuration","gem","broker","tls","protocol"],"author":{"name":"Luca Tralli","email":"luca.tralli@gemsrl.it"},"license":"MIT","_id":"node-red-contrib-mqtt-gem@1.0.0-beta.2","maintainers":[{"name":"lucagem","email":"luca.tralli@gemsrl.it"}],"homepage":"https://github.com/lucagem/node-red-contrib-mqtt-gem#readme","bugs":{"url":"https://github.com/lucagem/node-red-contrib-mqtt-gem/issues"},"dist":{"shasum":"aabaab9af7d6138434d2a0b7ce4785a655995c59","tarball":"https://registry.npmjs.org/node-red-contrib-mqtt-gem/-/node-red-contrib-mqtt-gem-1.0.0-beta.2.tgz","fileCount":8,"integrity":"sha512-RSDddpgzkxIhLpH07X64ExgZ+lqE9ajKpTqz6PtO5JeLCCxmovJFm4OUTp4b48Xe4k2f1chFTaX9JxjjjreSLw==","signatures":[{"sig":"MEYCIQCuSJOofAnFn2Sr9Viu5CXNjH574VAu1LJalHPphiBVqgIhANaJIY3LPskMoO9EOPKMxby9d/VqmisGwWkVHrhkWbes","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":151381},"main":"mqtt-gem.js","engines":{"node":">=14.0.0"},"gitHead":"a3bd464bbf89f09b4920b81b725558bfbba1e158","scripts":{"dev":"node-red --userDir ./.node-red-dev --verbose","test":"echo \"Error: no test specified yet!\" && exit 1","dev-debug":"node --inspect=9229 ./node_modules/node-red/red.js --userDir ./.node-red-dev --verbose","dev-setup":"node setup-dev.js","prepublishOnly":"echo 'Preparing for publish...' && npm run test || echo 'Tests not available yet'"},"_npmUser":{"name":"lucagem","email":"luca.tralli@gemsrl.it"},"node-red":{"nodes":{"mqtt-gem":"mqtt-gem.js"}},"repository":{"url":"git+https://github.com/lucagem/node-red-contrib-mqtt-gem.git","type":"git"},"_npmVersion":"10.2.4","description":"MQTT nodes with environment variables support for dynamic enable and parameters","directories":{},"_nodeVersion":"20.11.0","dependencies":{"mqtt":"^4.0.0"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"node-red":"^4.1.0"},"_npmOperationalInternal":{"tmp":"tmp/node-red-contrib-mqtt-gem_1.0.0-beta.2_1758897001658_0.382174024622147","host":"s3://npm-registry-packages-npm-production"}},"1.0.0-beta.4":{"name":"node-red-contrib-mqtt-gem","version":"1.0.0-beta.4","keywords":["node-red","mqtt","environment","variables","dynamic","configuration","gem","broker","tls","protocol"],"author":{"name":"Luca Tralli","email":"luca.tralli@gemsrl.it"},"license":"MIT","_id":"node-red-contrib-mqtt-gem@1.0.0-beta.4","maintainers":[{"name":"lucagem","email":"luca.tralli@gemsrl.it"}],"homepage":"https://github.com/lucagem/node-red-contrib-mqtt-gem#readme","bugs":{"url":"https://github.com/lucagem/node-red-contrib-mqtt-gem/issues"},"dist":{"shasum":"3a48274a215a231567542356aaa7cf0f5d9bf311","tarball":"https://registry.npmjs.org/node-red-contrib-mqtt-gem/-/node-red-contrib-mqtt-gem-1.0.0-beta.4.tgz","fileCount":8,"integrity":"sha512-OjF8ZkWYdt3vMR8NXpdzqX3ZNwZMY/Thu73BrZ/JvY7Kotpq8JvjCnnBbI53oAOOjmiaVNRYVPdvym6frhY9kw==","signatures":[{"sig":"MEQCIE4eUYcVpHwKBtOHU90Ms75GqFGKDaChJ9TftvogGjx3AiA2TCFvnZ7HvgCIta1jYEG1h3pITjI7sm1u62dt3k52sg==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":151370},"main":"mqtt-gem.js","engines":{"node":">=14.0.0"},"gitHead":"dbf4f0dab6947d8222388f9d945cb78afb3cc05e","scripts":{"dev":"node-red --userDir ./.node-red-dev --verbose","test":"echo \"Error: no test specified yet!\" && exit 1","dev-debug":"node --inspect=9229 ./node_modules/node-red/red.js --userDir ./.node-red-dev --verbose","dev-setup":"node setup-dev.js","prepublishOnly":"echo 'Preparing for publish...' && npm run test || echo 'Tests not available yet'"},"_npmUser":{"name":"lucagem","email":"luca.tralli@gemsrl.it"},"node-red":{"nodes":{"mqtt-gem":"mqtt-gem.js"}},"repository":{"url":"git+https://github.com/lucagem/node-red-contrib-mqtt-gem.git","type":"git"},"_npmVersion":"10.2.4","description":"MQTT nodes with environment variables support for dynamic enable and parameters","directories":{},"_nodeVersion":"20.11.0","dependencies":{"mqtt":"^4.0.0"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"node-red":"^4.1.0"},"_npmOperationalInternal":{"tmp":"tmp/node-red-contrib-mqtt-gem_1.0.0-beta.4_1758898407597_0.41237078389645876","host":"s3://npm-registry-packages-npm-production"}},"1.0.0-beta.5":{"name":"node-red-contrib-mqtt-gem","version":"1.0.0-beta.5","keywords":["node-red","mqtt","environment","variables","dynamic","configuration","gem","broker","tls","protocol"],"author":{"name":"Luca Tralli","email":"luca.tralli@gemsrl.it"},"license":"MIT","_id":"node-red-contrib-mqtt-gem@1.0.0-beta.5","maintainers":[{"name":"lucagem","email":"luca.tralli@gemsrl.it"}],"homepage":"https://github.com/lucagem/node-red-contrib-mqtt-gem#readme","bugs":{"url":"https://github.com/lucagem/node-red-contrib-mqtt-gem/issues"},"dist":{"shasum":"9b80f8c39e4fcf8967bff29e8fa6805631077abe","tarball":"https://registry.npmjs.org/node-red-contrib-mqtt-gem/-/node-red-contrib-mqtt-gem-1.0.0-beta.5.tgz","fileCount":9,"integrity":"sha512-LB/wGJyM66bTH01fhmyppi7CkCu/+JgpxYFph6v0a7yKYavBjEzkA4fcszHuobjf/77hWjgkC5w36Oq2N+7Flg==","signatures":[{"sig":"MEQCIEQAIrCrGD44rO9xrqa8zNsRwpLiV7SDVr4ufouTpwj3AiA9MsKzWk+iZ6qL16KRMyb2ZLfLtjq6cRZ8EIclFg6o2A==","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":158577},"main":"mqtt-gem.js","engines":{"node":">=14.0.0"},"gitHead":"5f1cc009846e199c6edf893bf2f7bb27d876dcc1","scripts":{"dev":"node-red --userDir ./.node-red-dev --verbose","test":"echo \"Error: no test specified yet!\" && exit 1","dev-debug":"node --inspect=9229 ./node_modules/node-red/red.js --userDir ./.node-red-dev --verbose","dev-setup":"node setup-dev.js","prepublishOnly":"echo 'Preparing for publish...' && npm run test || echo 'Tests not available yet'"},"_npmUser":{"name":"lucagem","email":"luca.tralli@gemsrl.it"},"node-red":{"nodes":{"mqtt-gem":"mqtt-gem.js"}},"repository":{"url":"git+https://github.com/lucagem/node-red-contrib-mqtt-gem.git","type":"git"},"_npmVersion":"10.2.4","description":"MQTT nodes with environment variables support for dynamic enable and parameters","directories":{},"_nodeVersion":"20.11.0","dependencies":{"mqtt":"^4.0.0"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"node-red":"^4.1.0"},"_npmOperationalInternal":{"tmp":"tmp/node-red-contrib-mqtt-gem_1.0.0-beta.5_1758899851764_0.10403321562856549","host":"s3://npm-registry-packages-npm-production"}},"1.0.0-beta.7":{"name":"node-red-contrib-mqtt-gem","version":"1.0.0-beta.7","keywords":["node-red","mqtt","environment","variables","dynamic","configuration","gem","broker","tls","protocol"],"author":{"name":"Luca Tralli","email":"luca.tralli@gemsrl.it"},"license":"MIT","_id":"node-red-contrib-mqtt-gem@1.0.0-beta.7","maintainers":[{"name":"lucagem","email":"luca.tralli@gemsrl.it"}],"homepage":"https://github.com/lucagem/node-red-contrib-mqtt-gem#readme","bugs":{"url":"https://github.com/lucagem/node-red-contrib-mqtt-gem/issues"},"dist":{"shasum":"095bde0e374166354f9de806b8b3dc1ae8d0100c","tarball":"https://registry.npmjs.org/node-red-contrib-mqtt-gem/-/node-red-contrib-mqtt-gem-1.0.0-beta.7.tgz","fileCount":9,"integrity":"sha512-F6UDmjrM2Q21jTk7sii6uISARi8tM5TbaoJ2Uquka2MNUH5H0mp66iY0S+wnC1+MucUya920lIFZ/Kl7zCSWhQ==","signatures":[{"sig":"MEYCIQD0Z/8jJkUOLKRGVasDwxOXvzv7Uaei0mZ4L+1gRp1BMAIhAKAC6d0wP3YruHOxtGm7+WsDQuev9q9VFWiHD2gFoYiW","keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U"}],"unpackedSize":158632},"main":"mqtt-gem.js","engines":{"node":">=14.0.0"},"gitHead":"305cc4788fb2d27e55e420d0a07d99ccde84e338","scripts":{"dev":"node-red --userDir ./.node-red-dev --verbose","test":"echo \"Error: no test specified yet!\" && exit 1","dev-debug":"node --inspect=9229 ./node_modules/node-red/red.js --userDir ./.node-red-dev --verbose","dev-setup":"node setup-dev.js","prepublishOnly":"echo 'Preparing for publish...' && npm run test || echo 'Tests not available yet'"},"_npmUser":{"name":"lucagem","email":"luca.tralli@gemsrl.it"},"node-red":{"nodes":{"mqtt-gem":"mqtt-gem.js"}},"repository":{"url":"git+https://github.com/lucagem/node-red-contrib-mqtt-gem.git","type":"git"},"_npmVersion":"10.2.4","description":"MQTT nodes with environment variables support for dynamic enable and parameters","directories":{},"_nodeVersion":"20.11.0","dependencies":{"mqtt":"^4.0.0"},"_hasShrinkwrap":false,"readmeFilename":"README.md","devDependencies":{"node-red":"^4.1.0"},"_npmOperationalInternal":{"tmp":"tmp/node-red-contrib-mqtt-gem_1.0.0-beta.7_1758900372780_0.826218714013218","host":"s3://npm-registry-packages-npm-production"}},"1.0.0":{"name":"node-red-contrib-mqtt-gem","version":"1.0.0","description":"MQTT nodes with environment variables support for dynamic enable and parameters","main":"mqtt-gem.js","scripts":{"test":"echo \"Error: no test specified yet!\" && exit 1","dev-setup":"node setup-dev.js","dev":"node-red --userDir ./.node-red-dev --verbose","dev-debug":"node --inspect=9229 ./node_modules/node-red/red.js --userDir ./.node-red-dev --verbose","prepublishOnly":"echo 'Preparing for publish...' && npm run test || echo 'Tests not available yet'"},"repository":{"type":"git","url":"git+https://github.com/lucagem/node-red-contrib-mqtt-gem.git"},"keywords":["node-red","mqtt","environment","variables","dynamic","configuration","gem","broker","tls","protocol"],"author":{"name":"Luca Tralli","email":"luca.tralli@gemsrl.it"},"license":"MIT","bugs":{"url":"https://github.com/lucagem/node-red-contrib-mqtt-gem/issues"},"homepage":"https://github.com/lucagem/node-red-contrib-mqtt-gem#readme","node-red":{"nodes":{"mqtt-gem":"mqtt-gem.js"}},"dependencies":{"mqtt":"^4.0.0"},"engines":{"node":">=14.0.0"},"devDependencies":{"node-red":"^4.1.0"},"_id":"node-red-contrib-mqtt-gem@1.0.0","gitHead":"283569bafde155f6fcdeea66eba961798cfd06b5","_nodeVersion":"20.11.0","_npmVersion":"10.2.4","dist":{"integrity":"sha512-fafYueXRz8m1lr6EVKWyWqyLRJJx2SyreUov2Hmycqs9JhJ9C5H1LksljLjfjLmrN1v00jfAbUzsFoaLatGwRA==","shasum":"051c1e05f5ebff5f65900cee3c82a163c5180e3c","tarball":"https://registry.npmjs.org/node-red-contrib-mqtt-gem/-/node-red-contrib-mqtt-gem-1.0.0.tgz","fileCount":9,"unpackedSize":158424,"signatures":[{"keyid":"SHA256:DhQ8wR5APBvFHLF/+Tc+AYvPOdTpcIDqOhxsBHRwC7U","sig":"MEYCIQCfDdVJOcnGCFWIsbhgJb4zaOUQU/zGTvVspnV3L0UviwIhAJhN9MmHMnxfqInMXQEqkCmXlnq/dbt439z4edx4Dl+9"}]},"_npmUser":{"name":"lucagem","email":"luca.tralli@gemsrl.it"},"directories":{},"maintainers":[{"name":"lucagem","email":"luca.tralli@gemsrl.it"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages-npm-production","tmp":"tmp/node-red-contrib-mqtt-gem_1.0.0_1759130596400_0.4093483447575721"},"_hasShrinkwrap":false}},"time":{"created":"2025-09-26T13:29:36.235Z","modified":"2025-09-29T07:23:16.742Z","1.0.0-beta.1":"2025-09-26T13:29:36.471Z","1.0.0-beta.2":"2025-09-26T14:30:01.908Z","1.0.0-beta.4":"2025-09-26T14:53:27.858Z","1.0.0-beta.5":"2025-09-26T15:17:31.937Z","1.0.0-beta.7":"2025-09-26T15:26:12.990Z","1.0.0":"2025-09-29T07:23:16.574Z"},"bugs":{"url":"https://github.com/lucagem/node-red-contrib-mqtt-gem/issues"},"author":{"name":"Luca Tralli","email":"luca.tralli@gemsrl.it"},"license":"MIT","homepage":"https://github.com/lucagem/node-red-contrib-mqtt-gem#readme","keywords":["node-red","mqtt","environment","variables","dynamic","configuration","gem","broker","tls","protocol"],"repository":{"type":"git","url":"git+https://github.com/lucagem/node-red-contrib-mqtt-gem.git"},"description":"MQTT nodes with environment variables support for dynamic enable and parameters","maintainers":[{"name":"lucagem","email":"luca.tralli@gemsrl.it"}],"readme":"# node-red-contrib-mqtt-gem\r\n\r\n[![npm version](https://badge.fury.io/js/node-red-contrib-mqtt-gem.svg)](https://www.npmjs.com/package/node-red-contrib-mqtt-gem)\r\n[![Node-RED](https://img.shields.io/badge/Node--RED-%23AA2837?style=flat&logo=nodered)](https://nodered.org)\r\n\r\n> Add little features to Standard MQTT nodes for Node-RED using environment variables support and dynamic configuration capabilities.\r\n\r\n**Library extension developed by [GEM srl](https://www.gemsrl.it) - Sant'Agata sul Santerno (RA), Italy** derived from [Original Node-red core library](https://github.com/node-red/node-red/blob/master/packages/node_modules/%40node-red/nodes/locales/en-US/network/)\r\n\r\n![Params](./docs/node-red-contrib-mqtt-gem%20params.png)\r\n\r\n## ðŸš€ Features\r\n\r\n**node-red-contrib-mqtt-gem** extends the standard Node-RED MQTT nodes with powerful dynamic configuration capabilities:\r\n\r\n### âœ… **Dynamic Broker Control**\r\n- **Enable/Disable connections** dynamically via environment variable (use \"Auto connect\" to enable/disable)\r\n- Automatic connection management based on runtime configuration\r\n- Visual status indicators (disabled nodes show \"disabled\" in gray)\r\n\r\n### ðŸŒ **Environment Variables Support**\r\n- **Port Configuration**: Use any environment variable for port numbers\r\n- **Auto-Connect Control**: Dynamic connection behavior via custom variable names\r\n- **TLS Configuration**: Runtime TLS enablement via any environment variable\r\n- **Protocol Version**: Support for custom MQTT protocol versions (3.1, 3.1.1, 5.0)\r\n- **Complete Broker Settings**: All broker parameters can be configured via **any** environment variable names\r\n\r\n### ðŸ”§ **Enhanced Protocol Support**\r\n- **MQTT v3.1** (legacy)\r\n- **MQTT v3.1.1** (standard)\r\n- **MQTT v5.0** (latest)\r\n- **Custom Protocol Selection**: Text input for environment variable-based protocol selection\r\n\r\n### ðŸŽ¯ **Smart Node Behavior**\r\n- Disabled brokers prevent IN/OUT nodes from processing messages\r\n- Visual feedback with status indicators\r\n- Seamless integration with existing Node-RED flows\r\n- No conflicts with core MQTT nodes\r\n\r\n## ðŸ“¦ Installation\r\n\r\n### Via Node-RED Palette Manager (Recommended)\r\n1. Open Node-RED editor\r\n2. Go to **Menu â†’ Manage palette**\r\n3. Select **Install** tab\r\n4. Search for `node-red-contrib-mqtt-gem`\r\n5. Click **Install**\r\n\r\n### Via npm\r\n```bash\r\nnpm install node-red-contrib-mqtt-gem\r\n```\r\n\r\n### Manual Installation\r\n```bash\r\ncd ~/.node-red\r\nnpm install node-red-contrib-mqtt-gem\r\n```\r\n\r\n## ðŸ”§ Configuration\r\n\r\n### Environment Variables Setup\r\n\r\n![launch.json](./docs/node-red-contrib-mqtt-gem%20launch.png)\r\n\r\n**You can use ANY variable names you prefer.** The examples below use common naming conventions:\r\n\r\n```bash\r\n# Example with standard names\r\nexport MQTT_HOST=\"broker.example.com\"\r\nexport MQTT_PORT=\"1883\"\r\nexport MQTT_AUTOCONNECT=\"true\"\r\nexport MQTT_USETLS=\"false\"\r\nexport MQTT_PROTOCOL=\"5\"\r\n\r\n# Example with custom names\r\nexport MY_BROKER_ADDRESS=\"broker.example.com\"\r\nexport MY_BROKER_PORT=\"1883\"\r\nexport ENABLE_MQTT=\"true\"\r\nexport USE_SSL=\"false\"\r\nexport MQTT_VERSION=\"5\"\r\n\r\n# Example with company-specific names\r\nexport COMPANY_MQTT_SERVER=\"internal.company.com\"\r\nexport PRODUCTION_MQTT_PORT=\"8883\"\r\nexport MQTT_CONNECTION_ENABLED=\"true\"\r\n\r\n# Start Node-RED\r\nnode-red\r\n```\r\n\r\n### Docker Configuration\r\n\r\n```dockerfile\r\n# Dockerfile\r\nFROM nodered/node-red:latest\r\n\r\n# Install the plugin\r\nRUN npm install node-red-contrib-mqtt-gem\r\n\r\n# Set environment variables (use any names you prefer)\r\nENV MY_MQTT_HOST=broker.example.com\r\nENV MY_MQTT_PORT=1883\r\nENV MQTT_ENABLED=true\r\nENV USE_TLS=false\r\nENV PROTOCOL_VERSION=5\r\n```\r\n\r\n### Docker Compose\r\n\r\n```yaml\r\nversion: '3.8'\r\nservices:\r\n  node-red:\r\n    image: nodered/node-red:latest\r\n    ports:\r\n      - \"1880:1880\"\r\n    environment:\r\n      - MY_MQTT_HOST=broker.example.com\r\n      - MY_MQTT_PORT=1883\r\n      - MQTT_ENABLED=true\r\n      - USE_TLS=false\r\n      - PROTOCOL_VERSION=5\r\n    volumes:\r\n      - node-red-data:/data\r\n    command: >\r\n      bash -c \"npm install node-red-contrib-mqtt-gem && \r\n               npm start -- --userDir /data\"\r\n\r\nvolumes:\r\n  node-red-data:\r\n```\r\n\r\n## ðŸŽ® Usage Examples\r\n\r\n### Basic Broker Configuration\r\n\r\n**Static Configuration:**\r\n```\r\nServer: broker.example.com\r\nPort: 1883\r\nAuto Connect: true\r\nUse TLS: false\r\nProtocol: MQTT V3.1.1\r\n```\r\n\r\n**Dynamic Configuration with Environment Variables (use any variable names):**\r\n```\r\nServer: ${MY_BROKER_HOST}\r\nPort: ${MY_BROKER_PORT}\r\nAuto Connect: ${MQTT_ENABLED}\r\nUse TLS: ${USE_SSL_CONNECTION}\r\nProtocol: Custom â†’ ${MQTT_VERSION}\r\n```\r\n\r\n### Conditional MQTT Publishing\r\n\r\n```javascript\r\n// In a Function node before mqtt-gem out\r\nif (env.get(\"MY_MQTT_ENABLED\") === \"true\") {\r\n    return msg; // Send message\r\n} else {\r\n    return null; // Block message\r\n}\r\n```\r\n\r\n### Multi-Environment Setup\r\n\r\n```bash\r\n# Development Environment\r\nexport DEV_MQTT_HOST=\"dev-broker.internal\"\r\nexport DEV_MQTT_PORT=\"1883\"\r\nexport DEV_MQTT_ENABLED=\"true\"\r\n\r\n# Production Environment\r\nexport PROD_MQTT_HOST=\"prod-broker.company.com\"\r\nexport PROD_MQTT_PORT=\"8883\"\r\nexport PROD_MQTT_ENABLED=\"true\"\r\nexport PROD_USE_TLS=\"true\"\r\n\r\n# Staging Environment\r\nexport STAGING_BROKER=\"staging.company.com\"\r\nexport STAGING_PORT=\"1883\"\r\nexport STAGING_CONNECTION=\"false\"  # Disabled in staging\r\n```\r\n\r\n### Protocol Version Examples\r\n\r\n```bash\r\n# MQTT v3.1 (legacy)\r\nexport MY_PROTOCOL=\"3\"\r\n\r\n# MQTT v3.1.1 (standard)  \r\nexport BROKER_PROTOCOL=\"4\"\r\n\r\n# MQTT v5.0 (latest)\r\nexport MQTT_VERSION=\"5\"\r\n```\r\n\r\n## ðŸ“‹ Node Types\r\n\r\n### `mqtt-gem-broker` (Configuration Node)\r\nEnhanced broker configuration with environment variable support for all parameters.\r\n\r\n### `mqtt-gem in` (Input Node)\r\nMQTT subscriber with dynamic broker configuration. Shows \"disabled\" status when broker is disabled.\r\n\r\n### `mqtt-gem out` (Output Node)  \r\nMQTT publisher with dynamic broker configuration. Blocks messages when broker is disabled.\r\n\r\n## ðŸ” Environment Variables Reference\r\n\r\n**Important**: You can use **any variable names** you prefer. The table below shows common examples, but you have complete freedom in naming:\r\n\r\n| Example Variable | Description | Default | Example Values |\r\n|------------------|-------------|---------|----------------|\r\n| `MY_MQTT_HOST` | Broker hostname/IP | localhost | `broker.example.com` |\r\n| `BROKER_PORT` | Broker port | 1883 | `1883`, `8883` |\r\n| `MQTT_ENABLED` | Auto-connect on startup (enable/disable connection and nodes)| true | `true`, `false` |\r\n| `USE_SSL` | Enable TLS/SSL | false | `true`, `false` |\r\n| `PROTOCOL_VERSION` | MQTT protocol version | 4 | `3`, `4`, `5` |\r\n\r\n**Configuration Examples:**\r\n```bash\r\n# Company-specific naming\r\nexport COMPANY_MQTT_BROKER=\"internal.company.com\"\r\nexport COMPANY_MQTT_PORT=\"1883\"\r\n\r\n# Project-specific naming  \r\nexport PROJECT_A_BROKER=\"project-a.broker.com\"\r\nexport PROJECT_A_ENABLED=\"true\"\r\n\r\n# Environment-specific naming\r\nexport PROD_MQTT_HOST=\"prod-broker.com\"\r\nexport DEV_MQTT_HOST=\"dev-broker.com\"\r\n```\r\n\r\n## ðŸ§ª Testing\r\n\r\n### Test Flow Example\r\n\r\n1. **Create test brokers:**\r\n   - Active broker with `MY_MQTT_ENABLED=true`\r\n   - Disabled broker with `MQTT_CONNECTION=false`\r\n\r\n2. **Add MQTT nodes:**\r\n   - Input nodes for both brokers\r\n   - Output nodes for both brokers\r\n\r\n3. **Verify behavior:**\r\n   - Active broker: nodes work normally\r\n   - Disabled broker: nodes show \"disabled\" status and don't process messages\r\n\r\n### Environment Variables Test\r\n\r\n```bash\r\n# Set test variables (use any names you prefer)\r\nexport TEST_MQTT_HOST=\"test.mosquitto.org\"\r\nexport TEST_MQTT_PORT=\"1883\" \r\nexport TEST_CONNECTION_ENABLED=\"true\"\r\nexport TEST_PROTOCOL_VERSION=\"5\"\r\n\r\n# Start Node-RED and verify configuration\r\nnode-red\r\n```\r\n\r\n## ðŸ”§ Development\r\n\r\n### Local Development Setup\r\n\r\n```bash\r\n# Clone repository\r\ngit clone https://github.com/lucagem/node-red-contrib-mqtt-gem.git\r\ncd node-red-contrib-mqtt-gem\r\n\r\n# Install dependencies\r\nnpm install\r\n\r\n# Setup development environment\r\nnpm run dev-setup\r\n\r\n# Start development Node-RED instance\r\nnpm run dev\r\n```\r\n\r\n### Development Commands\r\n\r\n```bash\r\n# Start development server\r\nnpm run dev\r\n\r\n# Debug mode\r\nnpm run dev-debug\r\n\r\n# Run tests (when available)\r\nnpm test\r\n```\r\n\r\n## ðŸ“ Migration from Standard MQTT Nodes\r\n\r\n1. **Replace node types** in your flows:\r\n   - `mqtt in` â†’ `mqtt-gem in`\r\n   - `mqtt out` â†’ `mqtt-gem out`  \r\n   - `mqtt-broker` â†’ `mqtt-gem-broker`\r\n\r\n2. **Update broker configurations** to use environment variables:\r\n   - Replace static values with `${VARIABLE_NAME}`\r\n   - Set corresponding environment variables\r\n\r\n3. **Deploy and test** the updated flow\r\n\r\n## â“ Troubleshooting\r\n\r\n### Common Issues\r\n\r\n**Q: Nodes show \"disabled\" status**  \r\nA: Check that your auto-connect variable (e.g., `MY_MQTT_ENABLED`) is set to `\"true\"` (as string)\r\n\r\n**Q: Environment variables not resolving**  \r\nA: Ensure variables are set before starting Node-RED and use correct syntax: `${YOUR_VARIABLE_NAME}`\r\n\r\n**Q: Protocol version not working**  \r\nA: For custom protocols, select \"Custom...\" in dropdown and enter `${YOUR_PROTOCOL_VAR}` in text field\r\n\r\n**Q: TLS connection failing**  \r\nA: Verify your TLS variable (e.g., `USE_TLS=\"true\"`) and correct port (usually 8883 for TLS)\r\n\r\n### Debug Mode\r\n\r\nEnable Node-RED debug logging:\r\n```bash\r\nDEBUG=mqtt-gem* node-red\r\n```\r\n\r\n## ðŸ¤ Contributing\r\n\r\nContributions are welcome! Please:\r\n\r\n1. Fork the repository\r\n2. Create a feature branch\r\n3. Make your changes\r\n4. Add tests if applicable\r\n5. Submit a pull request\r\n\r\n## ðŸ“„ License\r\n\r\nMIT License - see [LICENSE](LICENSE) file for details.\r\n\r\n## ðŸ”— Links\r\n\r\n- **Repository**: https://github.com/lucagem/node-red-contrib-mqtt-gem\r\n- **Issues**: https://github.com/lucagem/node-red-contrib-mqtt-gem/issues\r\n- **Node-RED**: https://nodered.org\r\n- **MQTT.org**: https://mqtt.org\r\n\r\n## ðŸ“Š Compatibility\r\n\r\n- **Node-RED**: >= 2.0.0\r\n- **Node.js**: >= 14.0.0\r\n- **MQTT**: Versions 3.1, 3.1.1, 5.0\r\n\r\n---\r\n\r\n**Developed by [GEM srl](https://www.gemsrl.it) - Sant'Agata sul Santerno (RA), Italy**  \r\n**Author**: [Luca Tralli](https://github.com/lucagem)","readmeFilename":"README.md"}